# νμ΄μ¬ λ°μ½”λ μ΄ν„°(Decorator) μ •λ¦¬: μλ°” μ–΄λ…Έν…μ΄μ…κ³Όμ λΉ„κµ

## 1. ν•µμ‹¬ μ”μ•½

νμ΄μ¬μ λ°μ½”λ μ΄ν„°λ” μλ°”μ μ–΄λ…Έν…μ΄μ…κ³Ό **μ‚¬μ© λ©μ (λ¶€κ°€ κΈ°λ¥ λ¶„λ¦¬)**μ€ κ°™μ§€λ§, **μ‘λ™ μ›λ¦¬(μ‹¤ν–‰ λ©”μ»¤λ‹μ¦)**λ” μ™„μ „ν λ‹¤λ¦…λ‹λ‹¤.

> **"μλ°” μ–΄λ…Έν…μ΄μ…μ€ 'μ •λ³΄(Metadata)'μ΄κ³ , νμ΄μ¬ λ°μ½”λ μ΄ν„°λ” 'μ‹¤ν–‰ μ½”λ“(Function)'λ‹¤."**

## 2. Java vs Python μ‘λ™ λ°©μ‹ λΉ„κµ

| κµ¬λ¶„          | μλ°” (Annotation)                           | νμ΄μ¬ (Decorator)                          |
| :------------ | :------------------------------------------ | :------------------------------------------ |
| **μ •μ²΄**      | λ©”νƒ€λ°μ΄ν„° (λ°μ΄ν„°, ν‘μ‹)                   | **κ³ μ°¨ ν•¨μ** (ν•¨μλ¥Ό μ…λ ¥λ°›μ•„ ν•¨μλ¥Ό λ°ν™) |
| **μ„±κ²©**      | **μλ™μ  (Passive)**                        | **λ¥λ™μ  (Active)**                         |
| **μ‘λ™ μ‹μ ** | λ°νƒ€μ„ (Reflection) λλ” μ»΄νμΌ νƒ€μ„        | **μ •μ μ‹μ  (Import/Definition Time)**      |
| **μ‹¤ν–‰ μ£Όμ²΄** | **μ 3μ** (Spring, ν”„λ μ„μ›ν¬, λ³„λ„ μ²λ¦¬κΈ°) | **μΈν„°ν”„λ¦¬ν„°** (μ–Έμ–΄ μμ²΄ κΈ°λ¥)             |
| **κµ¬ν„ λ°©μ‹** | "λ„κµ°κ°€ μ΄ ν‘μ‹μ„ λ³΄κ³  μ²λ¦¬ν•΄μ£ΌκΈΈ κΈ°λ‹¤λ¦Ό"   | "ν•¨μ μμ²΄λ¥Ό κ»λ°κΈ°(Wrapper)λ΅ λ®μ–΄μ”μ›€"    |

## 3. μƒμ„Έ λ©”μ»¤λ‹μ¦ μ°¨μ΄

### β•οΈ Java: "ν¬μ¤νΈμ‡(Post-it) λ¨λΈ"

- `@MyAnnotation`μ„ λ¶™μ΄λ” ν–‰μ„λ” μ½”λ“ μ„μ— **λ©”λ¨(ν¬μ¤νΈμ‡)λ¥Ό λ¶™μ—¬λ‘λ” κ²ƒ**κ³Ό κ°™μµλ‹λ‹¤.
- μλ°” μ½”λ“ μμ²΄λ” μ΄ λ©”λ¨λ¥Ό μ‹ κ²½ μ“°μ§€ μ•κ³  μ›λλ€λ΅ μ‹¤ν–‰λ©λ‹λ‹¤.
- **λ³„λ„μ μ²λ¦¬κΈ°(Processor)**κ°€ ν•„μ”ν•©λ‹λ‹¤.
  - μ: `Spring Framework`, `Lombok`, νΉμ€ λ‚΄κ°€ μ§μ ‘ μ§  `Reflection` μ½”λ“κ°€ μ΄ λ©”λ¨λ¥Ό μ½μ–΄μ„ λ΅μ§μ„ μ£Όμ…ν•κ±°λ‚ λ€λ¦¬μ(Proxy)λ¥Ό λ§λ“­λ‹λ‹¤.
- **κ²°λ΅ :** μ²λ¦¬κΈ°κ°€ μ—†μΌλ©΄ μ–΄λ…Έν…μ΄μ…μ€ μ•„λ¬΄λ° λ™μ‘λ„ ν•μ§€ μ•λ” μ¥μ‹ν’μ…λ‹λ‹¤.

### π Python: "ν¬μ¥μ§€(Wrapper) λ¨λΈ"

- `@my_decorator`λ¥Ό λ¶™μ΄λ” ν–‰μ„λ” ν•¨μλ¥Ό **μƒλ΅μ΄ ν¬μ¥μ§€(ν•¨μ)λ΅ κ°μ‹Έλ” κ²ƒ**μ…λ‹λ‹¤.
- μΈν„°ν”„λ¦¬ν„°κ°€ μ½”λ“λ¥Ό μ½μ„ λ•, **μ›λ³Έ ν•¨μλ¥Ό λ°μ½”λ μ΄ν„°κ°€ λ¦¬ν„΄ν• 'μƒ ν•¨μ'λ΅ κµμ²΄**ν•΄λ²„λ¦½λ‹λ‹¤.
- **λ³„λ„μ μ²λ¦¬κΈ°κ°€ λ¶ν•„μ”**ν•©λ‹λ‹¤.
  - νμ΄μ¬ μ–Έμ–΄ μμ²΄κ°€ "ν•¨μ κµμ²΄"λ¥Ό μν–‰ν•©λ‹λ‹¤.
- **κ²°λ΅ :** λ°μ½”λ μ΄ν„°λ¥Ό λ¶™μ΄λ” μκ°„, μ›λ³Έ ν•¨μλ” μκµ¬μ μΌλ΅ λ³€κ²½(Wrapping)λμ–΄ μ‹¤ν–‰λ©λ‹λ‹¤.

## 4. μ½”λ“λ΅ λ³΄λ” λ©νƒ λ¨λΈ (Mental Model)

### Javaμ κ²½μ° (Annotation)

```java
// μ–΄λ…Έν…μ΄μ…μ€ κ·Έλƒ¥ μ •λ³΄μΌ λΏ.
@Retry
public void run() { ... }

// μ‹¤μ λ΅λ” μ΄λ ‡κ² μ™Έλ¶€μ—μ„ μ‹¤ν–‰ν•΄μ¤μ•Ό ν•¨ (Reflection)
if (method.hasAnnotation(Retry.class)) {
    try {
        method.invoke(obj); // μ‹¤ν–‰
    } catch (Exception e) {
        method.invoke(obj); // μ¬μ‹λ„
    }
}
```
